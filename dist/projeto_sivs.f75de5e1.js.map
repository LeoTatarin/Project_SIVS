{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["// -------------------------------\r\n// COMUNICAÇÃO\r\n// -------------------------------\r\n\r\n// Pegando os elementos do HTML\r\nconst textarea = document.getElementById(\"mensage\"); // Campo de texto da mensagem\r\nconst btnAdd = document.getElementById(\"btnAdd\");    // Botão \"Adicionar comunicação\"\r\nconst listaMensagens = document.getElementById(\"mensagens\"); // Área onde as mensagens serão exibidas\r\n\r\n// Evento que é disparado sempre que o usuário digita no textarea\r\ntextarea.addEventListener(\"input\", function () {\r\n    // Se o campo estiver vazio (ou só com espaços), desabilita o botão\r\n    btnAdd.disabled = textarea.value.trim() === \"\";\r\n});\r\n\r\n// Evento que é disparado quando o usuário clica no botão\r\nbtnAdd.addEventListener(\"click\", function () {\r\n    // Pega o texto digitado, removendo espaços extras no começo e fim\r\n    const texto = textarea.value.trim();\r\n\r\n    // Só adiciona a mensagem se o campo não estiver vazio\r\n    if (texto !== \"\") {\r\n        // Cria um novo elemento <div> para a nova mensagem\r\n        const novaMensagem = document.createElement(\"div\");\r\n\r\n        // Adiciona as classes Bootstrap que deixam o estilo igual ao exemplo\r\n        novaMensagem.classList.add(\"container\", \"border\", \"rounded\", \"m-0\", \"mb-2\");\r\n\r\n        // Define o conteúdo HTML da nova mensagem\r\n        novaMensagem.innerHTML = `\r\n            <b>--nome de usuario--</b>\r\n            <p class=\"mb-0 w-100\">${texto}</p>\r\n        `;\r\n\r\n        // Adiciona a nova mensagem no final da lista\r\n        listaMensagens.appendChild(novaMensagem);\r\n\r\n        // Limpa o campo de texto para o usuário digitar outra mensagem\r\n        textarea.value = \"\";\r\n\r\n        // Desabilita o botão novamente até que o usuário digite algo novo\r\n        btnAdd.disabled = true;\r\n    }\r\n});\r\n\r\n\r\n// -------------------------------\r\n// SOLICITAÇÃO DE PEÇAS (novo trecho)\r\n// -------------------------------\r\n\r\n// pega os elementos\r\nconst btnAdicionar = document.getElementById(\"btn-adicionar\");\r\nconst formPeca = document.getElementById(\"form-peca\");\r\nconst tabela = document.getElementById(\"tabela-pecas\");\r\n\r\n// quando clicar no botão, mostra o formulário\r\nif (btnAdicionar) {\r\n    btnAdicionar.addEventListener(\"click\", () => {\r\n        formPeca.style.display = \"block\"; // exibe o form\r\n        btnAdicionar.style.display = \"none\"; // esconde o botão\r\n    });\r\n}\r\n\r\n// quando enviar o formulário\r\nif (formPeca) {\r\n    formPeca.addEventListener(\"submit\", (event) => {\r\n        event.preventDefault(); // evita recarregar a página\r\n\r\n        // pega os valores digitados\r\n        const nome = document.getElementById(\"nome\").value;\r\n        const quantidade = document.getElementById(\"quantidade\").value;\r\n        const partnumber = document.getElementById(\"partnumber\").value;\r\n\r\n        // cria uma nova linha <tr>\r\n        const novaLinha = document.createElement(\"tr\");\r\n\r\n        // insere as células <td>\r\n        novaLinha.innerHTML = `\r\n            <td style=\"padding:8px;\">${nome}</td>\r\n            <td style=\"padding:8px;\">${quantidade}</td>\r\n            <td style=\"padding:8px;\">${partnumber}</td>\r\n        `;\r\n\r\n        // adiciona a linha na tabela\r\n        tabela.appendChild(novaLinha);\r\n\r\n        // limpa o formulário\r\n        formPeca.reset();\r\n\r\n        // esconde o formulário e mostra o botão de novo\r\n        formPeca.style.display = \"none\";\r\n        btnAdicionar.style.display = \"block\";\r\n    });\r\n}\r\n\r\n\r\n// -------------------------------\r\n// UPLOAD DE ARQUIVOS\r\n// -------------------------------\r\n\r\nconst btnArquivo = document.getElementById(\"btn-arquivo\");\r\nconst formArquivo = document.getElementById(\"form-arquivo\");\r\nconst tabelaArquivos = document.getElementById(\"tabela-arquivos\");\r\n\r\n// mostrar formulário\r\nbtnArquivo.addEventListener(\"click\", () => {\r\n    formArquivo.style.display = \"block\";\r\n    btnArquivo.style.display = \"none\";\r\n});\r\n\r\n// ao enviar o formulário\r\nformArquivo.addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n\r\n    const fileInput = document.getElementById(\"fileInput\");\r\n    const descricao = document.getElementById(\"descricaoArquivo\").value.trim();\r\n\r\n    if (fileInput.files.length > 0 && descricao) {\r\n        const arquivo = fileInput.files[0]; // pega o arquivo enviado\r\n        const nomeArquivo = arquivo.name;\r\n\r\n        // cria uma URL temporária para permitir download\r\n        const urlDownload = URL.createObjectURL(arquivo);\r\n\r\n        // cria a nova linha da tabela\r\n        const novaLinha = document.createElement(\"tr\");\r\n        novaLinha.innerHTML = `\r\n            <td colspan=\"5\" style=\"padding:8px;\">${nomeArquivo}</td>\r\n            <td colspan=\"10\" style=\"padding:8px;\">${descricao}</td>\r\n            <td colspan=\"1\" style=\"padding:8px;\">\r\n            <a href=\"${urlDownload}\" download=\"${nomeArquivo}\" style=\"padding:8px;\">\r\n            ⬇️\r\n            </a>\r\n            </td>\r\n        `;\r\n\r\n        // adiciona na tabela\r\n        tabelaArquivos.appendChild(novaLinha);\r\n\r\n        // limpa e esconde formulário\r\n        formArquivo.reset();\r\n        formArquivo.style.display = \"none\";\r\n        btnArquivo.style.display = \"block\";\r\n    }\r\n});\r\n\r\n// -------------------------------\r\n// ASSINATURA CLIENTE COM VERIFICAÇÃO E MODAL\r\n// -------------------------------\r\n\r\n// elementos do DOM\r\nconst btnAssCliente = document.getElementById(\"btn-ass-cliente\");\r\nconst btnAssCliente2 = document.getElementById(\"btn-ass-cliente2\");\r\nconst formCliente = document.getElementById(\"form-cliente\");\r\nconst btnSalvarCliente = document.getElementById(\"btn-salvar-cliente\");\r\nconst btnLimparCliente = document.getElementById(\"btn-limpar-cliente\");\r\nconst imgCliente = document.getElementById(\"img-cliente\");\r\n\r\nconst canvas = document.getElementById(\"canvas-cliente\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\n// configurar traço do canvas\r\nctx.lineWidth = 2;\r\nctx.lineCap = 'round';\r\nctx.strokeStyle = '#000';\r\n\r\nlet desenhando = false;\r\nlet assinaturaPendente = null; // guarda dados temporários\r\n\r\n// garantir que modal comece escondido ao carregar a página\r\nwindow.addEventListener(\"load\", () => {\r\n    const modal = document.getElementById(\"modal-confirmacao\");\r\n    if (modal) modal.style.display = \"none\";\r\n    assinaturaPendente = null;\r\n});\r\n\r\n// mostrar formulário ao clicar no botão\r\nbtnAssCliente.addEventListener(\"click\", () => {\r\n    formCliente.style.display = \"block\";\r\n    btnAssCliente.style.display = \"none\";\r\n});\r\n\r\n// iniciar desenho\r\ncanvas.addEventListener(\"mousedown\", iniciar);\r\ncanvas.addEventListener(\"touchstart\", iniciar);\r\n\r\nfunction iniciar(e) {\r\n    desenhando = true;\r\n    ctx.beginPath();\r\n    ctx.moveTo(getX(e), getY(e));\r\n    e.preventDefault();\r\n}\r\n\r\n// desenhar\r\ncanvas.addEventListener(\"mousemove\", desenhar);\r\ncanvas.addEventListener(\"touchmove\", desenhar);\r\n\r\nfunction desenhar(e) {\r\n    if (!desenhando) return;\r\n    ctx.lineTo(getX(e), getY(e));\r\n    ctx.stroke();\r\n    e.preventDefault();\r\n}\r\n\r\n// parar desenho\r\ncanvas.addEventListener(\"mouseup\", parar);\r\ncanvas.addEventListener(\"mouseleave\", parar);\r\ncanvas.addEventListener(\"touchend\", parar);\r\n\r\nfunction parar() { desenhando = false; }\r\n\r\n// pegar coordenadas do mouse ou touch\r\nfunction getX(e) {\r\n    if (e.touches) return e.touches[0].clientX - canvas.getBoundingClientRect().left;\r\n    return e.clientX - canvas.getBoundingClientRect().left;\r\n}\r\n\r\nfunction getY(e) {\r\n    if (e.touches) return e.touches[0].clientY - canvas.getBoundingClientRect().top;\r\n    return e.clientY - canvas.getBoundingClientRect().top;\r\n}\r\n\r\n// limpar canvas\r\nbtnLimparCliente.addEventListener(\"click\", () => {\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    document.getElementById(\"nomeCliente\").value = \"\";\r\n});\r\n\r\n// IDs dos campos obrigatórios\r\nconst camposObrigatorios = [\r\n    { id: \"problema\", label: \"Problema\" },\r\n    { id: \"realizado\", label: \"Serviço Realizado\" },\r\n    { id: \"sos_causa\", label: \"Causa SOS\" },\r\n    { id: \"sos_obs\", label: \"Observações SOS\" },\r\n    { id: \"obs_entrada\", label: \"Observações de Entrada\" },\r\n    { id: \"hora_entrada\", label: \"Hora de Entrada\" },\r\n    { id: \"hora_saida\", label: \"Hora de Saída\" },\r\n    { id: \"tempo_viagem\", label: \"Tempo de Viagem\" },\r\n    { id: \"kms_rodados\", label: \"KMs Rodados\" }\r\n];\r\n\r\n// modal\r\nconst modal = document.getElementById(\"modal-confirmacao\");\r\nconst modalTexto = document.getElementById(\"modal-texto\");\r\nconst modalCancelar = document.getElementById(\"modal-cancelar\");\r\nconst modalConfirmar = document.getElementById(\"modal-confirmar\");\r\n\r\nfunction abrirModal(camposVazios) {\r\n    let texto = \"Deseja confirmar assinatura?\";\r\n    if (camposVazios.length > 0) {\r\n        texto += \"<br>Os seguintes campos não foram preenchidos:<br><ul>\" +\r\n            camposVazios.map(c => `<li>${c}</li>`).join('') +\r\n            \"</ul>\";\r\n    }\r\n    modalTexto.innerHTML = texto;\r\n    modal.style.display = \"flex\";\r\n}\r\n\r\nfunction fecharModal() {\r\n    modal.style.display = \"none\";\r\n    assinaturaPendente = null;\r\n}\r\n\r\nmodalCancelar.addEventListener(\"click\", fecharModal);\r\n\r\nmodalConfirmar.addEventListener(\"click\", () => {\r\n    if (assinaturaPendente) {\r\n        salvarAssinatura(assinaturaPendente.nome, assinaturaPendente.dataURL);\r\n    }\r\n    fecharModal();\r\n});\r\n\r\n// clique no botão salvar assinatura\r\nbtnSalvarCliente.addEventListener(\"click\", () => {\r\n    const nome = document.getElementById(\"nomeCliente\").value.trim();\r\n    if (!nome) {\r\n        alert(\"Digite o nome do responsável!\");\r\n        return;\r\n    }\r\n\r\n    const camposVazios = camposObrigatorios\r\n        .filter(c => !document.getElementById(c.id).value.trim())\r\n        .map(c => c.label);\r\n\r\n    const dataURL = canvas.toDataURL();\r\n    assinaturaPendente = { nome, dataURL };\r\n\r\n    abrirModal(camposVazios); // abre modal, confirma ou cancela\r\n});\r\n\r\n// função que realmente salva assinatura\r\nfunction salvarAssinatura(nome, dataURL) {\r\n    imgCliente.src = dataURL;\r\n    imgCliente.alt = \"Assinatura de \" + nome;\r\n    imgCliente.style.display = \"block\";\r\n\r\n    let info = document.getElementById(\"info-ass-cliente\");\r\n    if (!info) {\r\n        info = document.createElement(\"div\");\r\n        info.id = \"info-ass-cliente\";\r\n        info.style.marginTop = \"5px\";\r\n        imgCliente.parentElement.appendChild(info);\r\n    }\r\n\r\n    const agora = new Date();\r\n    const dataHoraFormatada = agora.toLocaleString();\r\n    info.textContent = `Assinatura de ${nome} salva em ${dataHoraFormatada}`;\r\n\r\n    // esconder formulário e desabilitar botão\r\n    formCliente.style.display = \"none\";\r\n    btnAssCliente.disabled = true;\r\n    btnAssCliente2.disabled = true;\r\n    btnAssCliente.style.display = \"none\";\r\n    btnAssCliente2.style.display = \"none\";\r\n}\r\n\r\n// -------------------------------\r\n// ASSINATURA TECNICO\r\n// -------------------------------\r\n\r\nconst btnAssTecnico = document.getElementById(\"btn-ass-tecnico\");\r\nconst btnAssTecnico2 = document.getElementById(\"btn-ass-tecnico2\");\r\nconst imgTecnico = document.getElementById(\"img-tecnico\");\r\n\r\nbtnAssTecnico.addEventListener(\"click\", () => {\r\n    // exibe a assinatura do técnico\r\n    imgTecnico.style.display = \"block\";\r\n\r\n     // cria ou atualiza o texto com data/hora\r\n    let infoTec = document.getElementById(\"info-ass-tecnico\");\r\n    if (!infoTec) {\r\n        infoTec = document.createElement(\"div\");\r\n        infoTec.id = \"info-ass-tecnico\";\r\n        infoTec.style.marginTop = \"5px\";\r\n        imgTecnico.parentElement.appendChild(infoTec);\r\n    }\r\n\r\n    const agora = new Date();\r\n    const dataHoraFormatada = agora.toLocaleString(); // ex: 27/08/2025 09:30:15\r\n    infoTec.textContent = `Assinatura do técnico registrada em ${dataHoraFormatada}`;\r\n\r\n    // opcional: desabilita o botão para não clicar novamente\r\n    btnAssTecnico.style.display = \"none\";\r\n    btnAssTecnico2.style.display = \"none\";\r\n});\r\n\r\n\r\n\r\n"],"names":[],"version":3,"file":"projeto_sivs.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}